<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>

	<META NAME="VPSiteProject" CONTENT="file:///C|/Bretl%20Site%20copy/BretlSite.vpp"><meta name="generator" content = "HyperText Studio from Olson Software (http://www.olsonsoft.com)">
<meta name="formatter" content = "HyperText Studio from Olson Software (http://www.olsonsoft.com)">
<title>PES Packets and Elementary Streams</title>
<style><!-- body { }
H5{}
H2{}
H3{}
H6{}
H4{}
H1{}
P{}
.DefaultParagraphFont{}
 --></style>
</head>
<body>
<BANNER>

<p><font size="5" face="Arial"><span class="DefaultParagraphFont" style="font-size: 16pt;"><b>PES Packets and Elementary Streams</b></span></font><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"></span></font></p></BANNER>

<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">A video ES, or video elementary stream, consists of all the video data for a </span></font><a href="index49.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">sequence</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">, including the sequence header and all the subparts of a sequence. An ES carries only one type of data (video or audio) from a single video or audio encoder.</span></font></p>
<p>&nbsp;</p>
<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">A packetized elementary stream, or PES, consists of a single ES which has been made into packets, each starting with an added packet header.  A PES stream contains only one type of data from one source, e.g. from one video or audio encoder.</span></font></p>
<p>&nbsp;</p>
<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">PES packets have variable length, not corresponding to the fixed packet length of transport packets, and may be much longer than a transport packet.  When transport packets are formed from a PES stream, the PES header is always placed at the beginning of a transport packet payload, immediately following the transport packet header.  The remaining PES packet content fills the payloads of successive transport packets until the PES packet is all used.  The final transport packet is filled to a fixed length by stuffing with  bytes = 0xFF (all ones).</span></font></p>
<p>&nbsp;</p>
<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Each PES packet header includes an 8-bit stream ID identifying the source of the payload.  Among other things, the PES packet header may also contain timing references: </span></font><a href="index64.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">PTS</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> (presentation time stamp, the time at which a audio unit or video picture is to be presented by the decoder); </span></font><a href="index65.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">DTS</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> (decoding time stamp, the time at which an access unit is decoded by the decoder); ESCR (elementary stream clock reference).  </span></font></p>
<p>&nbsp;</p>
<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">ATSC further constrains PES packets for video:</span></font><ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Every video PES packet begins with the beginning of a video </span></font><a href="index94.HTM" target="popup"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">access unit</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">. </span></font></li><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">For terrestrial broadcast, each PES packet contains no more than one coded video frame (may contain one or two coded fields or one frame).  </span></font></li><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Every PES header contains a PTS.</span></font></li><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">A PES packet devoid of video information must include the discontinuity_indicator to signal that the continuity_counter may be discontinuous.</span></font></li></ul>
<p>&nbsp;</p>
<p>&nbsp;</p></body>
</html>
