<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>

	<META NAME="VPSiteProject" CONTENT="file:///C|/Bretl%20Site%20copy/BretlSite.vpp"><meta name="generator" content = "HyperText Studio from Olson Software (http://www.olsonsoft.com)">
<meta name="formatter" content = "HyperText Studio from Olson Software (http://www.olsonsoft.com)">
<title>Startup</title>
<style><!-- body { }
H1{}
H6{}
H5{}
H3{}
H2{}
P{}
H4{}
.DefaultParagraphFont{}
 --></style>
</head>
<body>
<BANNER>

<p><font size="5" face="Arial"><span class="DefaultParagraphFont" style="font-size: 16pt;"><b>Startup</b></span></font><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"></span></font></p></BANNER>

<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">The following discussion applies to constant bit rate operation. &nbsp;</span></font></p>
<p><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">When a decoder is started in the middle of a </span></font><a href="sequence.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">sequence</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">, it does not know how full its buffer should be. &nbsp;If it decodes the first access unit at the wrong time, its fullness will not be the mirror image of the encoder buffer fullness, and it may later underflow or overflow. This problem would be solved if the decoder could use the </span></font><a href="VBV.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">VBV</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> model, but the required vbv_buffer_size_value is not available except in the sequence header. &nbsp;Fortunately, equivalent information is carried in the PCR and PTS/DTS values which are present throughout the sequence.</span></font><ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">The first step of startup is to synchronize the decoder </span></font><a href="index127.HTM" target="popup"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">system time clock</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> (STC). The value of the STC may simply be set to equal the first </span></font><a href="index117.HTM" target="popup"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">program clock reference</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> (PCR) that is received. (An inexact clock frequency could eventually cause the buffer to overflow or underflow, but does not affect the basic start-up procedure. &nbsp;Clock synchronization is discussed in </span></font><a href="STCsync.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Decoder STC Synchronization</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">.</span></font></li></ul>
<p style="text-indent:0px;margin-left:0px;">&nbsp;<ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> The second step of startup is to obtain a complete access unit to decode. &nbsp;The decoder therefore discards incoming data until it encounters a </span></font><a href="picture.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">picture</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> header with a </span></font><a href="PTS.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">presentation time stamp</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> (PTS) (a </span></font><a href="DTS.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">decode time stamp</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">, DTS, will also be present for a </span></font><a href="reorder.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">reordered</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> picture). &nbsp;In ATSC streams, every </span></font><a href="index94.HTM" target="popup"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">access unit</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> has this information. </span></font></li></ul>
<p style="text-indent:0px;margin-left:0px;">&nbsp;<ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">The last step of startup is to wait until the buffer has the correct fullness to remove and decode the picture. &nbsp;This occurs when the STC equals the picture's PTS. &nbsp;This was pre-calculated by the encoder as explained in </span></font><a href="conBR.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Constant Bit Rate Operation.</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> &nbsp;Thus, the decoder will wait before starting decoding until sufficient information has been transferred into the decoder buffer, as predetermined by the encoder. &nbsp;</span></font></li></ul>
<p style="text-indent:-24px;margin-left:24px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">Notes:</span></font><ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">If the decoder buffer is larger than required, this procedure will simply result in the upper part of the buffer being unused. &nbsp;Thus, it is sufficient to know a priori the maximum buffer size that is allowed in the particular system. &nbsp;See </span></font><a href="A53spec.HTM"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">ATSC Doc A/53 Constraints on MPEG</span></font></a><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;"> .</span></font></li></ul>
<p style="text-indent:0px;margin-left:0px;">&nbsp;<ul type="disc"><li>
<p style="text-indent:0px;margin-left:0px;"><font size="3" face="Arial"><span class="DefaultParagraphFont" style="font-size: 10pt;">In systems that do not send PTS with every access unit, the PTS value can be computed from a previous PTS by assuming a constant presentation rate.</span></font></li></ul>
<p>&nbsp;</p>
<p><a href="VarBRr.HTM">Previous: Variable Bit Rate Operation</a></p>
<p><a href="bufsync.HTM">Up to Buffer Synchronization and Startup</a></p></body>
</html>
